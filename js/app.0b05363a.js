(function(){"use strict";var e={2650:function(e,t,n){var r=n(9242),o=n(3396);function a(e,t,n,r,a,s){const i=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i)])}var s={},i=n(89);const u=(0,i.Z)(s,[["render",a]]);var l=u,c=n(678);const d={class:"container"},h={key:1};function p(e,t,n,r,a,s){const i=(0,o.up)("custom-input"),u=(0,o.up)("custom-navbar"),l=(0,o.up)("custom-loader"),c=(0,o.up)("post-list"),p=(0,o.up)("page-pagination");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(i,{modelValue:a.searchValue,"onUpdate:modelValue":t[0]||(t[0]=e=>a.searchValue=e),onOnSearch:s.onSearch},null,8,["modelValue","onOnSearch"]),(0,o.Wm)(u,{"selected-value":a.selectedSort,list:a.tableHeaderList,onChange:s.onSort},null,8,["selected-value","list","onChange"]),a.isPostsLoading?((0,o.wg)(),(0,o.j4)(l,{key:0})):((0,o.wg)(),(0,o.iD)("div",h,[(0,o.Wm)(c,{posts:a.posts},null,8,["posts"]),(0,o.Wm)(p,{"total-pages":a.totalPages,"current-page":a.currentPage,onOnChangePage:s.setPage},null,8,["total-pages","current-page","onOnChangePage"])]))])}var g=n(6265),v=n.n(g),m=(e,t)=>{const n={...e};for(let r of t)n[r.key]=r.value;return n};const f={class:"input"},w=["value"];function _(e,t,n,r,a,s){const i=(0,o.up)("search-icon");return(0,o.wg)(),(0,o.iD)("div",f,[(0,o._)("input",{placeholder:"Поиск",value:n.modelValue,onInput:t[0]||(t[0]=(...e)=>s.onInput&&s.onInput(...e)),type:"text"},null,40,w),(0,o.Wm)(i,{onClick:s.onSearch,class:"input__icon"},null,8,["onClick"])])}const y={width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},b=(0,o._)("path",{d:"M20.7353 19.4958L14.7101 13.4663C15.8979 12.0418 16.6124 10.2213 16.6124 8.23301C16.6124 3.69689 12.8896 0.00860596 8.31048 0.00860596C3.73132 0.00860596 0 3.70119 0 8.23731C0 12.7734 3.72272 16.4617 8.30187 16.4617C10.2472 16.4617 12.0375 15.7946 13.4577 14.68L19.5045 20.7267C19.8574 21.0796 20.3824 21.0796 20.7353 20.7267C21.0882 20.3738 21.0882 19.8487 20.7353 19.4958ZM1.76452 8.23731C1.76452 4.67383 4.69966 1.77743 8.30187 1.77743C11.9041 1.77743 14.8392 4.67383 14.8392 8.23731C14.8392 11.8008 11.9041 14.6972 8.30187 14.6972C4.69966 14.6972 1.76452 11.7965 1.76452 8.23731Z",fill:"white"},null,-1),C=[b];function P(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)("svg",y,C)}var k={name:"SearchIcon"};const D=(0,i.Z)(k,[["render",P]]);var x=D,I={name:"CustomInput",components:{SearchIcon:x},props:{modelValue:{type:[Number,String],default:""}},methods:{onInput(e){this.$emit("update:modelValue",e.target.value)},onSearch(){this.$emit("onSearch")}}};const O=(0,i.Z)(I,[["render",_],["__scopeId","data-v-1c34efdb"]]);var V=O,S=n(7139);const $={class:"navbar"},q=["onClick"];function L(e,t,n,r,a,s){const i=(0,o.up)("arrow-down-icon");return(0,o.wg)(),(0,o.iD)("div",$,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.list,(e=>((0,o.wg)(),(0,o.iD)("b",{key:e.value,class:"navbar__item",onClick:t=>s.changeOption(e)},[(0,o.Uk)((0,S.zw)(e.label)+" ",1),(0,o.Wm)(i,{class:(0,S.C_)(["navbar__arrow",s.getArrowClass(e.value)])},null,8,["class"])],8,q)))),128))])}const W={width:"12",height:"7",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Z=(0,o._)("line",{x1:"0.353553",y1:"0.646447",x2:"6.18011",y2:"6.47301",stroke:"#FCFCFC"},null,-1),j=(0,o._)("line",{x1:"5.64645",y1:"6.30331",x2:"11.3033",y2:"0.646453",stroke:"white"},null,-1),N=[Z,j];function A(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)("svg",W,N)}var z={name:"ArrowDownIcon"};const H=(0,i.Z)(z,[["render",A]]);var B=H,F={name:"CustomNavbar",components:{ArrowDownIcon:B},props:{selectedValue:{type:Object,required:!0},list:{type:Array,required:!0}},methods:{getArrowClass(e){return e===this.selectedValue.sort&&"desc"===this.selectedValue.order?"navbar__arrow--rotate":""},changeOption(e){let t="desc";e.value===this.selectedValue.sort&&"desc"===this.selectedValue.order&&(t="asc"),this.$emit("change",{sort:e.value,order:t})}}};const M=(0,i.Z)(F,[["render",L],["__scopeId","data-v-2dafa1ce"]]);var Q=M;const U={class:"table"};function K(e,t,n,a,s,i){return(0,o.wg)(),(0,o.iD)("table",U,[(0,o.Wm)(r.W3,{name:"post-list"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.posts,(e=>((0,o.wg)(),(0,o.iD)("tr",{key:e.id},[(0,o._)("td",null,(0,S.zw)(e.id),1),(0,o._)("td",null,(0,S.zw)(e.title),1),(0,o._)("td",null,(0,S.zw)(e.body),1)])))),128))])),_:1})])}var Y={name:"PostList",components:{},props:{posts:{type:Array,required:!0}}};const T=(0,i.Z)(Y,[["render",K],["__scopeId","data-v-6eca6eb4"]]);var E=T;const G=e=>((0,o.dD)("data-v-9e2f9298"),e=e(),(0,o.Cn)(),e),J={class:"custom-loader"},R=G((()=>(0,o._)("div",{class:"custom-loader__spinner"},null,-1))),X=[R];function ee(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)("div",J,X)}var te={name:"CustomLoader"};const ne=(0,i.Z)(te,[["render",ee],["__scopeId","data-v-9e2f9298"]]);var re=ne;const oe={class:"pagination"},ae=(0,o.Uk)(" Назад "),se={class:"pagination__list"},ie=["onClick"],ue=(0,o.Uk)(" Далее ");function le(e,t,n,r,a,s){const i=(0,o.up)("custom-button");return(0,o.wg)(),(0,o.iD)("div",oe,[(0,o.Wm)(i,{class:"pagination__btn",onClick:s.prevPage},{default:(0,o.w5)((()=>[ae])),_:1},8,["onClick"]),(0,o._)("ul",se,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.totalPages,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e,class:(0,S.C_)(["pagination__item",{"pagination__item--active":n.currentPage===e}]),onClick:t=>s.selectPage(e)},(0,S.zw)(e),11,ie)))),128))]),(0,o.Wm)(i,{class:"pagination__btn",onClick:s.nextPage},{default:(0,o.w5)((()=>[ue])),_:1},8,["onClick"])])}const ce={class:"btn"};function de(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)("button",ce,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}var he={name:"CustomButton"};const pe=(0,i.Z)(he,[["render",de],["__scopeId","data-v-ccebab9e"]]);var ge=pe,ve={name:"PagePagination",components:{CustomButton:ge},props:{currentPage:{type:Number,required:!0},totalPages:{type:Number,required:!0}},methods:{selectPage(e){this.$emit("onChangePage",e)},nextPage(){this.currentPage<this.totalPages&&this.$emit("onChangePage",this.currentPage+1)},prevPage(){this.currentPage>1&&this.$emit("onChangePage",this.currentPage-1)}}};const me=(0,i.Z)(ve,[["render",le],["__scopeId","data-v-49034e09"]]);var fe=me,we={name:"IndexPage",components:{PagePagination:fe,CustomLoader:re,PostList:E,CustomNavbar:Q,CustomInput:V},data(){return{posts:[],searchValue:"",selectedSort:{sort:"id",order:"asc"},totalPages:0,currentPage:1,limit:10,tableHeaderList:[{value:"id",label:"ID"},{value:"title",label:"Заголовок"},{value:"body",label:"Описание"}],isPostsLoading:!1}},watch:{"$route.query"(){this.fetchPosts()}},methods:{setQuery(e){this.$router.push({name:"index",query:m(this.$route.query,e)})},onSort({sort:e,order:t}){this.selectedSort={sort:e,order:t},this.setQuery([{key:"sort",value:e},{key:"order",value:t}])},onSearch(){this.setQuery([{key:"search",value:this.searchValue}])},setPage(e){this.currentPage=e,this.setQuery([{key:"page",value:e}])},initValues(){const{page:e,search:t,sort:n,order:r}=this.$route.query;n&&r&&(this.selectedSort={sort:n,order:r}),e&&(this.currentPage=Number(e)),t&&(this.searchValue=t)},async fetchPosts(){try{this.isPostsLoading=!0;const e=await v().get("https://jsonplaceholder.typicode.com/posts",{params:{q:this.$route.query.search,_sort:this.$route.query.sort,_order:this.$route.query.order,_page:this.$route.query.page,_limit:this.limit}});this.totalPages=Math.ceil(Number(e.headers["x-total-count"])/this.limit),this.posts=e.data,this.isPostsLoading=!1}catch(e){alert("Ошибка")}}},mounted(){this.initValues(),this.fetchPosts()}};const _e=(0,i.Z)(we,[["render",p]]);var ye=_e;const be=[{path:"/",name:"index",component:ye}],Ce=(0,c.p7)({history:(0,c.PO)("/post-test/"),routes:be});var Pe=Ce;(0,r.ri)(l).use(Pe).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,a){if(!r){var s=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],a=e[c][2];for(var i=!0,u=0;u<r.length;u++)(!1&a||s>=a)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(i=!1,a<s&&(s=a));if(i){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,a,s=r[0],i=r[1],u=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(u)var c=u(n)}for(t&&t(r);l<s.length;l++)a=s[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self["webpackChunkposts_test"]=self["webpackChunkposts_test"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(2650)}));r=n.O(r)})();
//# sourceMappingURL=app.0b05363a.js.map